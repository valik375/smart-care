let currentTemplate,calculatorSections=[{sectionType:"choose",title:"Який <span>тип приміщення</span> потребує системи розумного будинку?",text:"Це допоможе нам підібрати рішення відповідно саме вашому приміщенню.",variants:[{text:"Квартира",label:"Apartment",icon:"../assets/white-flat.svg",value:!1},{text:"Приватний будинок",label:"PrivateHouse",icon:"../assets/white-house.svg",value:!1},{text:"Офіс",label:"Office",icon:"../assets/white-case.svg",value:!1},{text:"Інше",label:"Other",icon:"../assets/white-three-dots.svg",value:!1}]},{sectionType:"choose",title:"Які <span>функції безпеки</span> повинні бути у вашому розумному будинку?",text:"Оберіть необхідні функції безпеки. Кількість необмежена.",subtext:"Не знайшли потрібної функції? Вкажіть її при телефонній розмові або переписці з нами та ми обовʼязково додамо її для вас.",variants:[{text:"Захист від <br> вторгнення",label:"ProtectionAgainstIntrusion",icon:"../assets/white-balaclava.svg",value:!1},{text:"Система <br> відеоспостереження",label:"VideoSurveillanceSystem",icon:"../assets/white-camera.svg",value:!1},{text:"Імітація <br> присутності",label:"ImitationOfPresence",icon:"../assets/white-user.svg",value:!1},{text:"Інтеграція зі <br> службою охорони",label:"IntegrationWithTheSecurityService",icon:"../assets/white-shield.svg",value:!1},{text:"Розумні замки",label:"SmartLocks",icon:"../assets/white-lock.svg",value:!1},{text:"Світлова та <br> звукова сирена",label:"LightAndSoundSiren",icon:"../assets/white-alert.svg",value:!1},{text:"Протипожежна <br> система",label:"FireProtectionSystem",icon:"../assets/white-fire.svg",value:!1},{text:"Антипотоп система",label:"AntiFloodSystem",icon:"../assets/white-drop.svg",value:!1},{text:"Захищена Wi-Fi <br> мережа",label:"SecureWiFiNetwork",icon:"../assets/white-wifi.svg",value:!1}]},{sectionType:"choose",title:"Які <span>функції комфорту</span> повинні бути у вашому розумному будинку?",text:"Оберіть необхідні функції комфорту. Кількість необмежена.",subtext:"Не знайшли потрібної функції? Вкажіть її при телефонній розмові або переписці з нами та ми обовʼязково додамо її для вас.",variants:[{text:"Контроль <br> освітлення",label:"ControlOfLighting",icon:"../assets/white-light.svg",value:!1},{text:"Клімат-контроль",label:"ClimateControl",icon:"../assets/white-temperature.svg",value:!1},{text:"Автоматичні двері <br> та ролети",label:"AutomaticDoorsAndRollerShutters",icon:"../assets/white-blinds.svg",value:!1},{text:"Автоматизація <br> ветниляції",label:"AutomationOVetting",icon:"../assets/white-wentilation.svg",value:!1},{text:"Керування системами <br> опалення",label:"ManagementOfHeatingSystems",icon:"../assets/white-heating.svg",value:!1},{text:"Голосовий <br> ассистент",label:"VoiceAssistant",icon:"../assets/white-micro.svg",value:!1},{text:"Розумний <br> прибиральник",label:"SmartCleaner",icon:"../assets/white-robot.svg",value:!1},{text:"Економія <br> комунальних витрат",label:"SavingUtilityCosts",icon:"../assets/white-dollar.svg",value:!1}]},{sectionType:"range",title:"Яка площина <span>вашого</span> приміщення?",text:"Від площини приміщення залежить кількість та тип пристроїв системи розумного будинку.",rangeValue:40,label:"SizeOfFlat"},{sectionType:"rooms",title:"Які <span>кімнати</span> потребують системи розумного будинку?",text:"Оберіть тип кімнат та їх кількість. Завдяки цьому ми підрахуємо точну вартість саме для вашого випадку.",rooms:[{id:0,name:"Кухня",label:"Kitchen",value:1},{id:1,name:"Санвузол",label:"Bathroom",value:1},{id:2,name:"Вітальня/коридор/лоджія",label:"LivingRoom_Corridor_Loggia",value:1},{id:3,name:"Спальня",label:"Bedroom",value:1},{id:4,name:"Нежилі, технічні <br> приміщення тощо",label:"NonResidential_TechnicalPremises_Etc",value:1}]}],currentStep=0;const calculatorModalBackdrop=document.querySelector(".calculator-modal__backdrop");document.querySelector(".functions-page__button.calculator").addEventListener("click",(()=>{calculatorModalBackdrop.classList.toggle("visible")})),document.querySelector(".calculator-modal__close").addEventListener("click",(()=>{calculatorModalBackdrop.classList.toggle("visible")}));const calculatorModalBody=document.querySelector(".calculator-modal__body"),nextButton=document.querySelector(".calculator-modal__next"),prevButton=document.querySelector(".calculator-modal__back"),chooseVariant=(a,l)=>{0===currentStep?chooseFlatHandler(a,l):chooseHandler(a,l)},chooseFlatHandler=(a,l)=>{document.querySelectorAll(".calculator-modal__template-choose-item").forEach(((a,t)=>{t===l?a.classList.add("selected"):a.classList.remove("selected")})),currentTemplate.variants.map(((a,t)=>{a.value=t===l}))},chooseHandler=(a,l)=>{document.querySelectorAll(".calculator-modal__template-choose-item")[l].classList.toggle("selected"),currentTemplate.variants[l].value=!currentTemplate.variants[l].value},chooseTemplate=a=>`\n    <div class="calculator-modal__template choose">\n      <h2 class="calculator-modal__template-title">${a.title}</h2>\n      <p class="calculator-modal__template-text text">${a.text}</p>\n      <div class="calculator-modal__template-choose">\n      ${a.variants.map(((a,l)=>`\n          <div onclick="chooseVariant(event, ${l})" class="calculator-modal__template-choose-item ${a.value?"selected":""}">\n            <img src="${a.icon}" alt="${a.text}">\n            <span>${a.text}</span>\n          </div>\n        `)).join("")}\n      </div>\n      ${a.subtext?`<div class="calculator-modal__template-choose-subtext text">${a.subtext}</div>`:""}\n      \n    </div>\n  `,changeInputRange=a=>{document.querySelector(".calculator-modal__range input").value=a.target.value,currentTemplate.rangeValue=a.target.value},changeRange=a=>{document.querySelector(".calculator-modal__range-value").value=a.target.value,currentTemplate.rangeValue=a.target.value},rangeTemplate=a=>`\n    <div class="calculator-modal__template range">\n      <h2 class="calculator-modal__template-title">${a.title}</h2>\n      <p class="calculator-modal__template-text text">${a.text}</p>\n      <div class="calculator-modal__range-wrapper">\n        <div class="input-group">\n          <input\n            type="text"\n            class="calculator-modal__range-value input"\n            value="${a.rangeValue}"\n            pattern="[0-9]+"\n            max="400"\n            onchange="changeInputRange(event)"\n          >\n          <span class="calculator-modal__label">m²</span>\n        </div>\n        <div class="calculator-modal__range">\n          <input \n            type="range" \n            value="${a.rangeValue}"\n            min="10" \n            max="400" \n            onchange="changeRange(event)"\n          >\n          <div class="calculator-modal__range-splitter left"></div>\n          <div class="calculator-modal__range-splitter center"></div>\n          <div class="calculator-modal__range-splitter right"></div>\n          <div class="calculator-modal__range-values">\n            <div class="calculator-modal__range-value">10</div>\n            <div class="calculator-modal__range-value">100</div>\n            <div class="calculator-modal__range-value">200</div>\n            <div class="calculator-modal__range-value">300</div>\n            <div class="calculator-modal__range-value">400+</div>\n          </div>\n        </div>\n      </div>\n    </div>\n  `,decrementRoom=(a,l)=>{currentTemplate.rooms[l].value<=0||(currentTemplate.rooms[l].value-=1,a.target.nextElementSibling.innerHTML=currentTemplate.rooms[l].value)},incrementRoom=(a,l)=>{currentTemplate.rooms[l].value+=1,a.target.previousElementSibling.innerHTML=currentTemplate.rooms[l].value},roomsTemplate=a=>`\n    <div class="calculator-modal__template rooms">\n      <h2 class="calculator-modal__template-title">${a.title}</h2>\n      <p class="calculator-modal__template-text text">${a.text}</p>\n      <div class="calculator-modal__template-rooms">\n        ${a.rooms.map(((a,l)=>`\n            <div class="calculator-modal__template-room">\n              <div class="calculator-modal__template-room__name">${a.name}</div>\n              <div class="calculator-modal__template-counter">\n                <button onclick="decrementRoom(event, ${l})" class="calculator-modal__template-minus" type="button">-</button>\n                <div class="calculator-modal__template-room-value">${a.value}</div>\n                <button onclick="incrementRoom(event, ${l})" class="calculator-modal__template-plus" type="button">+</button>\n              </div>\n            </div>\n          `)).join("")}\n      </div>\n    </div>\n  `,formTemplate=()=>'\n   <div class="calculator-modal_final">\n      <div class="calculator-modal_final-title">Готово! Орієнтована вартість вашого розумного будинку:</div>\n      <div class="calculator-modal_final-dropdown">\n        <div class="calculator-modal_final-dropdown-header">\n          <div class="calculator-modal_final-dropdown-left">\n            <div class="calculator-modal_final-dropdown-title">~ $1970</div>\n            <div class="calculator-modal_final-dropdown-icon">\n              <img src="../assets/gray-information.svg" alt="Icon">\n              <div class="calculator-modal_final-info">\n                <svg xmlns="http://www.w3.org/2000/svg" width="13" height="5" viewBox="0 0 13 5" fill="none">\n                  <path d="M12.5 5L7.95308 1.08768C7.2209 0.457695 6.1431 0.440996 5.39176 1.048L0.5 5L12.5 5Z" fill="#2E3038"/>\n                </svg>\n                Ціна розрахована на основі необхідного мінімуму для обраних функцій, \n                типу та кількості кімнат. Наприклад, якщо у будинку одна ванна кімната \n                та одна кухня, системі антипотопу у базі необхідно 2 датчика води \n                (по одному у кожну з кімнат).\n              </div>\n            </div>\n          </div>\n          <div class="calculator-modal_final-dropdown-right">\n            <span>Детальні розрахунки</span>\n            <img src="../assets/min-white-arrow-right.svg" alt="Arrow icon">\n          </div>\n        </div>\n        <div class="calculator-modal_final-dropdown-body">\n  \n          <div class="calculator-modal_final-dropdown-item">\n            <div class="calculator-modal_final-dropdown-item-wrapper">\n              <div class="calculator-modal_final-dropdown-item-title">Smart Hub</div>\n              <div class="calculator-modal_final-dropdown-item-text text">Пристрій, що буде керувати усіма системами та датчиками.</div>\n            </div>\n            <div class="calculator-modal_final-dropdown-item-value">$220</div>\n          </div>\n          <div class="calculator-modal_final-dropdown-item">\n            <div class="calculator-modal_final-dropdown-item-wrapper">\n              <div class="calculator-modal_final-dropdown-item-title">Безпека та захист</div>\n              <div class="calculator-modal_final-dropdown-item-text text">Датчик розбиття скла 3 шт, датчик руху 3 шт, датчик відчинення\n                1 шт, звукова сирена 1 шт, тривожна кнопка 1шт, датчики вогню 2 шт, датчики води 2 шт.</div>\n            </div>\n            <div class="calculator-modal_final-dropdown-item-value">$650</div>\n          </div>\n          <div class="calculator-modal_final-dropdown-item">\n            <div class="calculator-modal_final-dropdown-item-wrapper">\n              <div class="calculator-modal_final-dropdown-item-title">Комфорт та продуктивність</div>\n              <div class="calculator-modal_final-dropdown-item-text text">Електронне реле освітлення 4 шт, датчик освітленості 4 шт,\n                електронні ролети 1 шт, електронний термостат 2 шт.</div>\n            </div>\n            <div class="calculator-modal_final-dropdown-item-value">$800</div>\n          </div>\n          <div class="calculator-modal_final-dropdown-item">\n            <div class="calculator-modal_final-dropdown-item-wrapper">\n              <div class="calculator-modal_final-dropdown-item-title">Проектування</div>\n              <div class="calculator-modal_final-dropdown-item-text text">Ми узгодимо з вами функції та бюджет і спроектуємо систему та\n                розміщення вузлів розумного будинку. </div>\n            </div>\n            <div class="calculator-modal_final-dropdown-item-value">$110</div>\n          </div>\n          <div class="calculator-modal_final-dropdown-item">\n            <div class="calculator-modal_final-dropdown-item-wrapper">\n              <div class="calculator-modal_final-dropdown-item-title">Монтаж та налаштування</div>\n              <div class="calculator-modal_final-dropdown-item-text text">Після схвалення проекту розумного будинку ми встановимо все необхідне\n                обладнання та програмне забезпечення, а також надамо вам детальні інструкції щодо його використання. Вам залишається займатися\n                своїми справами, поки розумний будинок виконує все за вас!</div>\n            </div>\n            <div class="calculator-modal_final-dropdown-item-value">$290-560</div>\n          </div>\n  \n        </div>\n      </div>\n      <p class="calculator-modal_final-text text">Вище наведена лише орієнтована вартість. Вона залежить у першу\n        чергу від виробників пристроїв, бажаних сценаріїв автоматизації, а також складності встановлення\n        обладнання. Ми можемо зменшувати вказану суму, адаптуючи її під ваші потреби та можливості, для цього\n        достатньо лише зв\'язатися з нами!</p>\n  \n      <form class="calculator-modal_final-form">\n        <div class="calculator-modal_final-form-title">Залиште свій контакт, щоб ми зв’язались з вами та обумовили усі деталі вашого розумного будинку</div>\n        <div class="calculator-modal_final-form-group input-group">\n          <label for="name" class="label">Імʼя*</label>\n          <input\n            id="name"\n            name="name"\n            type="text"\n            class="input"\n            placeholder="Введіть ваше імʼя"\n            required\n          >\n        </div>\n        <div class="calculator-modal_final-form-group input-group">\n          <label for="phone" class="label">Телефон*</label>\n          <input\n            class="input"\n            id="phone"\n            name="phone"\n            value="+380"\n            placeholder="+380XXXXXXXXX"\n            type="tel"\n            pattern="^\\+380[0-9]{9}$"\n            title="Введіть данні в форматі +380XXXXXXXXX"\n            required\n          >\n        </div>\n        <div class="calculator-modal_final-form-group input-group">\n          <label for="email" class="label">Email</label>\n          <input\n            class="input"\n            id="email"\n            name="email"\n            type="email"\n            placeholder="Введіть ваш email"\n          >\n        </div>\n        <button class="calculator-modal_final-form-submit button blue" type="submit">Звʼяжіться зі мною</button>\n      </form>\n    </div>\n  ',finalStepSetup=()=>{calculatorModalBody.innerHTML='\n   <div class="calculator-modal_final">\n      <div class="calculator-modal_final-title">Готово! Орієнтована вартість вашого розумного будинку:</div>\n      <div class="calculator-modal_final-dropdown">\n        <div class="calculator-modal_final-dropdown-header">\n          <div class="calculator-modal_final-dropdown-left">\n            <div class="calculator-modal_final-dropdown-title">~ $1970</div>\n            <div class="calculator-modal_final-dropdown-icon">\n              <img src="../assets/gray-information.svg" alt="Icon">\n              <div class="calculator-modal_final-info">\n                <svg xmlns="http://www.w3.org/2000/svg" width="13" height="5" viewBox="0 0 13 5" fill="none">\n                  <path d="M12.5 5L7.95308 1.08768C7.2209 0.457695 6.1431 0.440996 5.39176 1.048L0.5 5L12.5 5Z" fill="#2E3038"/>\n                </svg>\n                Ціна розрахована на основі необхідного мінімуму для обраних функцій, \n                типу та кількості кімнат. Наприклад, якщо у будинку одна ванна кімната \n                та одна кухня, системі антипотопу у базі необхідно 2 датчика води \n                (по одному у кожну з кімнат).\n              </div>\n            </div>\n          </div>\n          <div class="calculator-modal_final-dropdown-right">\n            <span>Детальні розрахунки</span>\n            <img src="../assets/min-white-arrow-right.svg" alt="Arrow icon">\n          </div>\n        </div>\n        <div class="calculator-modal_final-dropdown-body">\n  \n          <div class="calculator-modal_final-dropdown-item">\n            <div class="calculator-modal_final-dropdown-item-wrapper">\n              <div class="calculator-modal_final-dropdown-item-title">Smart Hub</div>\n              <div class="calculator-modal_final-dropdown-item-text text">Пристрій, що буде керувати усіма системами та датчиками.</div>\n            </div>\n            <div class="calculator-modal_final-dropdown-item-value">$220</div>\n          </div>\n          <div class="calculator-modal_final-dropdown-item">\n            <div class="calculator-modal_final-dropdown-item-wrapper">\n              <div class="calculator-modal_final-dropdown-item-title">Безпека та захист</div>\n              <div class="calculator-modal_final-dropdown-item-text text">Датчик розбиття скла 3 шт, датчик руху 3 шт, датчик відчинення\n                1 шт, звукова сирена 1 шт, тривожна кнопка 1шт, датчики вогню 2 шт, датчики води 2 шт.</div>\n            </div>\n            <div class="calculator-modal_final-dropdown-item-value">$650</div>\n          </div>\n          <div class="calculator-modal_final-dropdown-item">\n            <div class="calculator-modal_final-dropdown-item-wrapper">\n              <div class="calculator-modal_final-dropdown-item-title">Комфорт та продуктивність</div>\n              <div class="calculator-modal_final-dropdown-item-text text">Електронне реле освітлення 4 шт, датчик освітленості 4 шт,\n                електронні ролети 1 шт, електронний термостат 2 шт.</div>\n            </div>\n            <div class="calculator-modal_final-dropdown-item-value">$800</div>\n          </div>\n          <div class="calculator-modal_final-dropdown-item">\n            <div class="calculator-modal_final-dropdown-item-wrapper">\n              <div class="calculator-modal_final-dropdown-item-title">Проектування</div>\n              <div class="calculator-modal_final-dropdown-item-text text">Ми узгодимо з вами функції та бюджет і спроектуємо систему та\n                розміщення вузлів розумного будинку. </div>\n            </div>\n            <div class="calculator-modal_final-dropdown-item-value">$110</div>\n          </div>\n          <div class="calculator-modal_final-dropdown-item">\n            <div class="calculator-modal_final-dropdown-item-wrapper">\n              <div class="calculator-modal_final-dropdown-item-title">Монтаж та налаштування</div>\n              <div class="calculator-modal_final-dropdown-item-text text">Після схвалення проекту розумного будинку ми встановимо все необхідне\n                обладнання та програмне забезпечення, а також надамо вам детальні інструкції щодо його використання. Вам залишається займатися\n                своїми справами, поки розумний будинок виконує все за вас!</div>\n            </div>\n            <div class="calculator-modal_final-dropdown-item-value">$290-560</div>\n          </div>\n  \n        </div>\n      </div>\n      <p class="calculator-modal_final-text text">Вище наведена лише орієнтована вартість. Вона залежить у першу\n        чергу від виробників пристроїв, бажаних сценаріїв автоматизації, а також складності встановлення\n        обладнання. Ми можемо зменшувати вказану суму, адаптуючи її під ваші потреби та можливості, для цього\n        достатньо лише зв\'язатися з нами!</p>\n  \n      <form class="calculator-modal_final-form">\n        <div class="calculator-modal_final-form-title">Залиште свій контакт, щоб ми зв’язались з вами та обумовили усі деталі вашого розумного будинку</div>\n        <div class="calculator-modal_final-form-group input-group">\n          <label for="name" class="label">Імʼя*</label>\n          <input\n            id="name"\n            name="name"\n            type="text"\n            class="input"\n            placeholder="Введіть ваше імʼя"\n            required\n          >\n        </div>\n        <div class="calculator-modal_final-form-group input-group">\n          <label for="phone" class="label">Телефон*</label>\n          <input\n            class="input"\n            id="phone"\n            name="phone"\n            value="+380"\n            placeholder="+380XXXXXXXXX"\n            type="tel"\n            pattern="^\\+380[0-9]{9}$"\n            title="Введіть данні в форматі +380XXXXXXXXX"\n            required\n          >\n        </div>\n        <div class="calculator-modal_final-form-group input-group">\n          <label for="email" class="label">Email</label>\n          <input\n            class="input"\n            id="email"\n            name="email"\n            type="email"\n            placeholder="Введіть ваш email"\n          >\n        </div>\n        <button class="calculator-modal_final-form-submit button blue" type="submit">Звʼяжіться зі мною</button>\n      </form>\n    </div>\n  ',document.querySelector(".calculator-modal__card").classList.add("final-step"),document.querySelector(".calculator-modal_final-dropdown-header").addEventListener("click",(()=>{document.querySelector(".calculator-modal_final-dropdown").classList.toggle("active")})),document.querySelector(".calculator-modal_final-form").addEventListener("submit",(async a=>{a.preventDefault();const l=new FormData(a.target);calculatorSections.map((a=>"choose"===a.sectionType?a.variants.map((a=>{l.append(a.label,a.value)})):"range"===a.sectionType?l.append(a.label,a.rangeValue):"rooms"===a.sectionType?a.rooms.map((a=>{l.append(a.label,a.value)})):void 0));try{await fetch("https://formspree.io/f/mvojazwd",{method:"POST",body:l,headers:{Accept:"application/json"}}),a.target.reset(),document.querySelector(".confirm-modal__backdrop").classList.add("visible")}catch(a){console.log(a)}}))},renderStep=()=>{let a;if(currentTemplate=calculatorSections[currentStep],currentStep>=5)return calculatorModalBody.innerHTML='\n   <div class="calculator-modal_final">\n      <div class="calculator-modal_final-title">Готово! Орієнтована вартість вашого розумного будинку:</div>\n      <div class="calculator-modal_final-dropdown">\n        <div class="calculator-modal_final-dropdown-header">\n          <div class="calculator-modal_final-dropdown-left">\n            <div class="calculator-modal_final-dropdown-title">~ $1970</div>\n            <div class="calculator-modal_final-dropdown-icon">\n              <img src="../assets/gray-information.svg" alt="Icon">\n              <div class="calculator-modal_final-info">\n                <svg xmlns="http://www.w3.org/2000/svg" width="13" height="5" viewBox="0 0 13 5" fill="none">\n                  <path d="M12.5 5L7.95308 1.08768C7.2209 0.457695 6.1431 0.440996 5.39176 1.048L0.5 5L12.5 5Z" fill="#2E3038"/>\n                </svg>\n                Ціна розрахована на основі необхідного мінімуму для обраних функцій, \n                типу та кількості кімнат. Наприклад, якщо у будинку одна ванна кімната \n                та одна кухня, системі антипотопу у базі необхідно 2 датчика води \n                (по одному у кожну з кімнат).\n              </div>\n            </div>\n          </div>\n          <div class="calculator-modal_final-dropdown-right">\n            <span>Детальні розрахунки</span>\n            <img src="../assets/min-white-arrow-right.svg" alt="Arrow icon">\n          </div>\n        </div>\n        <div class="calculator-modal_final-dropdown-body">\n  \n          <div class="calculator-modal_final-dropdown-item">\n            <div class="calculator-modal_final-dropdown-item-wrapper">\n              <div class="calculator-modal_final-dropdown-item-title">Smart Hub</div>\n              <div class="calculator-modal_final-dropdown-item-text text">Пристрій, що буде керувати усіма системами та датчиками.</div>\n            </div>\n            <div class="calculator-modal_final-dropdown-item-value">$220</div>\n          </div>\n          <div class="calculator-modal_final-dropdown-item">\n            <div class="calculator-modal_final-dropdown-item-wrapper">\n              <div class="calculator-modal_final-dropdown-item-title">Безпека та захист</div>\n              <div class="calculator-modal_final-dropdown-item-text text">Датчик розбиття скла 3 шт, датчик руху 3 шт, датчик відчинення\n                1 шт, звукова сирена 1 шт, тривожна кнопка 1шт, датчики вогню 2 шт, датчики води 2 шт.</div>\n            </div>\n            <div class="calculator-modal_final-dropdown-item-value">$650</div>\n          </div>\n          <div class="calculator-modal_final-dropdown-item">\n            <div class="calculator-modal_final-dropdown-item-wrapper">\n              <div class="calculator-modal_final-dropdown-item-title">Комфорт та продуктивність</div>\n              <div class="calculator-modal_final-dropdown-item-text text">Електронне реле освітлення 4 шт, датчик освітленості 4 шт,\n                електронні ролети 1 шт, електронний термостат 2 шт.</div>\n            </div>\n            <div class="calculator-modal_final-dropdown-item-value">$800</div>\n          </div>\n          <div class="calculator-modal_final-dropdown-item">\n            <div class="calculator-modal_final-dropdown-item-wrapper">\n              <div class="calculator-modal_final-dropdown-item-title">Проектування</div>\n              <div class="calculator-modal_final-dropdown-item-text text">Ми узгодимо з вами функції та бюджет і спроектуємо систему та\n                розміщення вузлів розумного будинку. </div>\n            </div>\n            <div class="calculator-modal_final-dropdown-item-value">$110</div>\n          </div>\n          <div class="calculator-modal_final-dropdown-item">\n            <div class="calculator-modal_final-dropdown-item-wrapper">\n              <div class="calculator-modal_final-dropdown-item-title">Монтаж та налаштування</div>\n              <div class="calculator-modal_final-dropdown-item-text text">Після схвалення проекту розумного будинку ми встановимо все необхідне\n                обладнання та програмне забезпечення, а також надамо вам детальні інструкції щодо його використання. Вам залишається займатися\n                своїми справами, поки розумний будинок виконує все за вас!</div>\n            </div>\n            <div class="calculator-modal_final-dropdown-item-value">$290-560</div>\n          </div>\n  \n        </div>\n      </div>\n      <p class="calculator-modal_final-text text">Вище наведена лише орієнтована вартість. Вона залежить у першу\n        чергу від виробників пристроїв, бажаних сценаріїв автоматизації, а також складності встановлення\n        обладнання. Ми можемо зменшувати вказану суму, адаптуючи її під ваші потреби та можливості, для цього\n        достатньо лише зв\'язатися з нами!</p>\n  \n      <form class="calculator-modal_final-form">\n        <div class="calculator-modal_final-form-title">Залиште свій контакт, щоб ми зв’язались з вами та обумовили усі деталі вашого розумного будинку</div>\n        <div class="calculator-modal_final-form-group input-group">\n          <label for="name" class="label">Імʼя*</label>\n          <input\n            id="name"\n            name="name"\n            type="text"\n            class="input"\n            placeholder="Введіть ваше імʼя"\n            required\n          >\n        </div>\n        <div class="calculator-modal_final-form-group input-group">\n          <label for="phone" class="label">Телефон*</label>\n          <input\n            class="input"\n            id="phone"\n            name="phone"\n            value="+380"\n            placeholder="+380XXXXXXXXX"\n            type="tel"\n            pattern="^\\+380[0-9]{9}$"\n            title="Введіть данні в форматі +380XXXXXXXXX"\n            required\n          >\n        </div>\n        <div class="calculator-modal_final-form-group input-group">\n          <label for="email" class="label">Email</label>\n          <input\n            class="input"\n            id="email"\n            name="email"\n            type="email"\n            placeholder="Введіть ваш email"\n          >\n        </div>\n        <button class="calculator-modal_final-form-submit button blue" type="submit">Звʼяжіться зі мною</button>\n      </form>\n    </div>\n  ',document.querySelector(".calculator-modal__card").classList.add("final-step"),document.querySelector(".calculator-modal_final-dropdown-header").addEventListener("click",(()=>{document.querySelector(".calculator-modal_final-dropdown").classList.toggle("active")})),void document.querySelector(".calculator-modal_final-form").addEventListener("submit",(async a=>{a.preventDefault();const l=new FormData(a.target);calculatorSections.map((a=>"choose"===a.sectionType?a.variants.map((a=>{l.append(a.label,a.value)})):"range"===a.sectionType?l.append(a.label,a.rangeValue):"rooms"===a.sectionType?a.rooms.map((a=>{l.append(a.label,a.value)})):void 0));try{await fetch("https://formspree.io/f/mvojazwd",{method:"POST",body:l,headers:{Accept:"application/json"}}),a.target.reset(),document.querySelector(".confirm-modal__backdrop").classList.add("visible")}catch(a){console.log(a)}}));switch(currentTemplate.sectionType){case"choose":a=`\n    <div class="calculator-modal__template choose">\n      <h2 class="calculator-modal__template-title">${(l=currentTemplate).title}</h2>\n      <p class="calculator-modal__template-text text">${l.text}</p>\n      <div class="calculator-modal__template-choose">\n      ${l.variants.map(((a,l)=>`\n          <div onclick="chooseVariant(event, ${l})" class="calculator-modal__template-choose-item ${a.value?"selected":""}">\n            <img src="${a.icon}" alt="${a.text}">\n            <span>${a.text}</span>\n          </div>\n        `)).join("")}\n      </div>\n      ${l.subtext?`<div class="calculator-modal__template-choose-subtext text">${l.subtext}</div>`:""}\n      \n    </div>\n  `;break;case"range":a=rangeTemplate(currentTemplate);break;case"rooms":a=roomsTemplate(currentTemplate)}var l;0===currentStep?prevButton.classList.add("disabled"):prevButton.classList.remove("disabled"),calculatorModalBody.innerHTML=a};nextButton.addEventListener("click",(()=>{("choose"!==currentTemplate.sectionType||currentTemplate.variants.find((a=>!0===a.value)))&&(calculatorSections[currentStep]=currentTemplate,currentStep++,currentStep<5&&document.querySelector(`.calculator-modal__step.step_${currentStep+1}`).classList.add("active"),renderStep())})),prevButton.addEventListener("click",(()=>{currentStep<5&&document.querySelector(`.calculator-modal__step.step_${currentStep+1}`).classList.remove("active"),currentStep--,renderStep()})),renderStep();